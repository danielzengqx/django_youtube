{% extends "base.html" %}
{% load staticfiles %}


{% block jquery %}

$signUpCount = {{ count }};
//$(".progress-bar").css("width", "80%").attr("aria-valuenow", "80").text("80%");

function completeBlock(progressBarId){
	$(progressBarId).css("width", "100%").attr("aria-valuenow", 100).text("Completed");
}

function setNewPerc(progressBarId, percentNum, newText){
	$(progressBarId).css("width", percentNum + "%").attr("aria-valuenow", percentNum)

	if (percentNum	< 20){
		$(progressBarId).text("...");
	} else if (percentNum >= 20 && percentNum < 40){
		$(progressBarId).text("Almost...");
	} else {
		$(progressBarId).text(newText);
	}

}


if ($signUpCount == 0){
	
} else if($signUpCount > 0 && $signUpCount < 5){
	$newPercent = $signUpCount/5 * 100;
	setNewPerc("#count5", $newPercent, "Friends Num: " + $signUpCount);

} else if ($signUpCount >= 5 && $signUpCount < 15){
	$newCount = $signUpCount - 5;
	$newPercent = $newCount/10 * 100;
	completeBlock("#count5");
	setNewPerc("#count15", $newPercent, "Friends Num: " + $signUpCount)

} else if ($signUpCount >= 15 && $signUpCount < 25){
	completeBlock("#count5");
	completeBlock("#count15");
	$newCount = $signUpCount - 15;
	$newPercent = $newCount/(25-15) * 100;

	setNewPerc("#count25", $newPercent, "Friends Num: " + $signUpCount)

} else if ($signUpCount >= 25 && $signUpCount < 50){
	completeBlock("#count5");
	completeBlock("#count15");
	completeBlock("#count25");
	$newCount = $signUpCount - 25;
	$newPercent = $newCount/(50-25) * 100;

	setNewPerc("#count50", $newPercent, "Friends Num: " + $signUpCount)

} else {
	completeBlock("#count5");
	completeBlock("#count15");
	completeBlock("#count25");
	completeBlock("#count50");

}



{% endblock %}

{% block content %}
{% include "navbar.html" %}

    <!-- Main jumbotron for a primary marketing message or call to action -->
    <div class="jumbotron">
      <div class="container">
      <div class="row">
        <div class="col-md-6 pull-right" style="text-align:center;">
          <i class="fa fa-share-alt fa-5x"></i>
          <h1>Invite Friends &amp; Earn Rewards</h1><!--Daniel:  Seems the & and &amp; has the same effect on the website-->
          <p>Share your unique link below via Email, Facebook, Twitter, Reddit, or 
          LinkedIn to earn rewards from xiaoxiezi.net</p>
          <div class="well" style="background-color:white;">{{ ref_url }} </div>
	      Share<br/>
          <i class="fa fa-facebook-square fa-4x" style="color:#3b5998"></i>

          <i class="fa fa-linkedin-square fa-4x" style="color:#007bb6;"></i>
		  <i class="fa fa-google-plus-square fa-4x" style="color:#D34836;"></i>	
		            <i class="fa fa-weibo fa-4x" style="color:#900020;"></i>
          <i class="fa fa-weixin fa-4x" style="color:#30CB5F;"></i>
          <i class="fa fa-renren fa-4x" style="color:#3b5998"></i>
        </div>

        <div class="col-md-6 pull-left">
          <img src="{% static 'img/launch.jpg' %}" class='img-responsive img-rounded' />
        </div>

       </div>
      </div>
    </div>

<div class='container'  style="text-align:center;">

Joined number is :{{ count }} <br/>

<div class="row">
	<div class="col-sm-3">
		<h3>5 Joined</h3>
		<div class="progress">
		  <div class="progress-bar" id="count5"  role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;">
		    10%
		  </div>
		</div>
		<h4>Reward Name</h4>
		<img src="{% static 'img/apple-touch-icon-72-precomposed.png' %}">	
		<img src="{% static 'img/apple-touch-icon-72-precomposed.png' %}">	
		<hr/>
		<span style="text-align:left; !important">
		<h5>Reward Include:</h5>
		<ul>
			<li>Reward 1</li>
			<li>Reward 2</li>
		</ul>
		</span>
	</div>

	<div class="col-sm-3">
		<h3>15 Joined</h3>
		<div class="progress">
		  <div class="progress-bar" id="count15" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;">
		    100%
		  </div>
		</div>
		<h4>Reward Name</h4>
		<img src="{% static 'img/apple-touch-icon-72-precomposed.png' %}">	
		<img src="{% static 'img/apple-touch-icon-72-precomposed.png' %}">	
		<hr/>
		<span style="text-align:left; !important">
		<h5>Reward Include:</h5>
		<ul>
			<li>Reward 1</li>
			<li>Reward 2</li>
		</ul>
		</span>
	</div>

	<div class="col-sm-3">
		<h3>25 Joined</h3>	
		<div class="progress">
		  <div class="progress-bar" id="count25" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;">
		    100%
		  </div>
		</div>
		<h4>Reward Name</h4>
		<img src="{% static 'img/apple-touch-icon-72-precomposed.png' %}">	
		<img src="{% static 'img/apple-touch-icon-72-precomposed.png' %}">	
		<hr/>
		<span style="text-align:left; !important">
		<h5>Reward Include:</h5>
		<ul>
			<li>Reward 1</li>
			<li>Reward 2</li>
		</ul>
		</span>
	</div>

	<div class="col-sm-3">
		<h3>50 Joined</h3>
		<div class="progress">
		  <div class="progress-bar" id="count50" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;">
		    100%
		  </div>
		</div>
		<h4>Reward Name</h4>
		<img src="{% static 'img/apple-touch-icon-72-precomposed.png' %}">	
		<img src="{% static 'img/apple-touch-icon-72-precomposed.png' %}">	
		<hr/>
		<span style="text-align:left; !important">
		<h5>Reward Include:</h5>
		<ul>
			<li>Reward 1</li>
			<li>Reward 2</li>
		</ul>
		</span>

	</div>
</div>


</div>
{% endblock %}

